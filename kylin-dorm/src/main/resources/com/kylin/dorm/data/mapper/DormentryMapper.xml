<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kylin.dorm.data.mapper.DormentryMapper">
	<resultMap id="BaseResultMap" type="com.kylin.dorm.data.model.Dormentry">
		<id column="dormentry_id" property="dormentryId" jdbcType="INTEGER" />
		<result column="dorm_id" property="dormId" jdbcType="INTEGER" />
		<result column="site_id" property="siteId" jdbcType="INTEGER" />
		<result column="sid" property="sid" jdbcType="INTEGER" />
		<result column="status" property="status" jdbcType="TINYINT" />
		<result column="sort" property="sort" jdbcType="INTEGER" />
		<result column="address" property="address" jdbcType="VARCHAR" />
		<result column="address1" property="address1" jdbcType="VARCHAR" />
		<result column="address2" property="address2" jdbcType="VARCHAR" />
		<result column="notice" property="notice" jdbcType="VARCHAR" />
		<result column="dormentry_type" property="dormentryType"
			jdbcType="INTEGER" />
		<result column="dormentry_floors" property="dormentryFloors"
			jdbcType="INTEGER" />
		<result column="room_number" property="roomNumber" jdbcType="INTEGER" />
		<result column="student_number" property="studentNumber"
			jdbcType="INTEGER" />
		<result column="longitude" property="longitude" jdbcType="REAL" />
		<result column="latitude" property="latitude" jdbcType="REAL" />
		<result column="max_reward" property="maxReward" jdbcType="INTEGER" />
	</resultMap>
	<select id="selectByDormID" resultMap="BaseResultMap">
	<![CDATA[
		SELECT
		t1.dormentry_id, t1.dorm_id, t1.site_id, t1.status, t1.sort,
		t1.address, t1.address1, t1.address2, t1.dormentry_type,
		t1.dormentry_floors, t1.room_number, t1.longitude, t1.latitude,
		t1.max_reward
		FROM 59_dormentry AS t1
		INNER JOIN 59_dormentrydorm AS t2
		ON t1.dormentry_id = t2.dormentry_id
		WHERE
		t2.dorm_id = #{dormId}
	]]>
	</select>
</mapper>