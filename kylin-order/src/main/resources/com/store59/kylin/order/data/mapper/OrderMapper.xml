<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.store59.kylin.order.data.mapper.OrderMapper">
	<resultMap id="BaseResultMap" type="com.store59.kylin.order.data.model.Order">
		<id column="order_id" property="orderId" jdbcType="BIGINT" />
		<result column="status" property="status" jdbcType="TINYINT" />
		<result column="type" property="type" jdbcType="TINYINT" />
		<result column="paytype" property="paytype" jdbcType="TINYINT" />
		<result column="paystatus" property="paystatus" jdbcType="TINYINT" />
		<result column="source" property="source" jdbcType="TINYINT" />
		<result column="sid" property="sid" jdbcType="INTEGER" />
		<result column="site_id" property="siteId" jdbcType="INTEGER" />
		<result column="pay_trade_no" property="payTradeNo" jdbcType="CHAR" />
		<result column="dorm_id" property="dormId" jdbcType="INTEGER" />
		<result column="dormentry_id" property="dormentryId" jdbcType="INTEGER" />
		<result column="uid" property="uid" jdbcType="INTEGER" />
		<result column="service_eva" property="serviceEva" jdbcType="TINYINT" />
		<result column="delivery_eva" property="deliveryEva" jdbcType="TINYINT" />
		<result column="food_eva" property="foodEva" jdbcType="TINYINT" />
		<result column="food_num" property="foodNum" jdbcType="SMALLINT" />
		<result column="food_amount" property="foodAmount" jdbcType="DECIMAL" />
		<result column="ship_fee" property="shipFee" jdbcType="DECIMAL" />
		<result column="coupon_discount" property="couponDiscount"
			jdbcType="DECIMAL" />
		<result column="promotion_discount" property="promotionDiscount"
			jdbcType="DECIMAL" />
		<result column="discount" property="discount" jdbcType="DECIMAL" />
		<result column="order_amount" property="orderAmount" jdbcType="DECIMAL" />
		<result column="delivery_id" property="deliveryId" jdbcType="INTEGER" />
		<result column="add_time" property="addTime" jdbcType="INTEGER" />
		<result column="confirm_time" property="confirmTime" jdbcType="INTEGER" />
		<result column="send_time" property="sendTime" jdbcType="INTEGER" />
		<result column="expect_date" property="expectDate" jdbcType="INTEGER" />
		<result column="delivery_type" property="deliveryType"
			jdbcType="TINYINT" />
		<result column="expect_time" property="expectTime" jdbcType="INTEGER" />
		<result column="expect_timeslot" property="expectTimeslot"
			jdbcType="VARCHAR" />
		<result column="order_mark" property="orderMark" jdbcType="INTEGER" />
		<result column="uname" property="uname" jdbcType="VARCHAR" />
		<result column="portrait" property="portrait" jdbcType="VARCHAR" />
		<result column="phone" property="phone" jdbcType="VARCHAR" />
		<result column="phone_addr" property="phoneAddr" jdbcType="VARCHAR" />
		<result column="buy_times" property="buyTimes" jdbcType="INTEGER" />
		<result column="address1" property="address1" jdbcType="VARCHAR" />
		<result column="address2" property="address2" jdbcType="VARCHAR" />
		<result column="dormitory" property="dormitory" jdbcType="VARCHAR" />
		<result column="time_deliver" property="timeDeliver" jdbcType="TINYINT" />
		<result column="credit" property="credit" jdbcType="SMALLINT" />
		<result column="ip" property="ip" jdbcType="VARCHAR" />
		<result column="coupon_code" property="couponCode" jdbcType="VARCHAR" />
		<result column="feature" property="feature" jdbcType="VARCHAR" />
		<result column="remark" property="remark" jdbcType="VARCHAR" />
		<result column="evaluation" property="evaluation" jdbcType="VARCHAR" />
	</resultMap>
	<sql id="Base_Column_List">
		order_id, status, type, paytype, paystatus, source, sid, site_id, pay_trade_no,
		dorm_id,
		dormentry_id, uid, service_eva, delivery_eva, food_eva, food_num, food_amount,
		ship_fee,
		coupon_discount, promotion_discount, discount, order_amount, delivery_id, add_time,
		confirm_time, send_time, expect_date, delivery_type, expect_time,
		expect_timeslot,
		order_mark, uname, portrait, phone, phone_addr, buy_times, address1, address2,
		dormitory,
		time_deliver, credit, ip, coupon_code, feature, remark, evaluation
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Long">
		select
		<include refid="Base_Column_List" />
		from 59_order
		where order_id = #{orderId,jdbcType=BIGINT}
	</select>
	<select id="selectByFilter" resultMap="BaseResultMap"
		parameterType="com.store59.kylin.order.data.filter.OrderFilter">
		select
		<include refid="Base_Column_List" />
		from 59_order
		<where>
			<if test="dormId != null">
				and dorm_id = #{dormId}
			</if>
			<if test="dormentryId != null">
				and dormentry_id = #{dormentryId}
			</if>
			<if test="startTime != null">
				and add_time >= #{startTime}
			</if>
			<if test="endTime != null">
			<![CDATA[
				and add_time < #{endTime}
			]]>
			</if>
			<if test="phone != null">
				and phone = #{phone}
			</if>
			<if test="dormitory != null">
				and dormitory = #{dormitory}
			</if>
			<if test="status != null">
				and status in
				<foreach collection="status" index="index" item="item" open="("
					separator="," close=")">
					#{item}
				</foreach>
			</if>
			<if test="uid != null">
				and uid= #{uid}
			</if>
		</where>
		order by add_time desc
		<if test="limit != null">
			limit #{limit}
		</if>
		<if test="offset != null">
			offset #{offset}
		</if>
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
		delete from 59_order
		where order_id = #{orderId,jdbcType=BIGINT}
	</delete>
	<insert id="insert" parameterType="com.store59.kylin.order.data.model.Order">
		insert into 59_order (order_id, status, type,
		paytype, paystatus, source,
		sid, site_id, pay_trade_no,
		dorm_id, dormentry_id, uid,
		service_eva, delivery_eva, food_eva,
		food_num, food_amount, ship_fee,
		coupon_discount, promotion_discount, discount,
		order_amount, delivery_id, add_time,
		confirm_time, send_time, expect_date,
		delivery_type, expect_time, expect_timeslot,
		order_mark, uname, portrait,
		phone, phone_addr, buy_times,
		address1, address2, dormitory,
		time_deliver, credit, ip,
		coupon_code, feature, remark,
		evaluation)
		values (#{orderId,jdbcType=BIGINT}, #{status,jdbcType=TINYINT},
		#{type,jdbcType=TINYINT},
		#{paytype,jdbcType=TINYINT}, #{paystatus,jdbcType=TINYINT}, #{source,jdbcType=TINYINT},
		#{sid,jdbcType=INTEGER}, #{siteId,jdbcType=INTEGER},
		#{payTradeNo,jdbcType=CHAR},
		#{dormId,jdbcType=INTEGER}, #{dormentryId,jdbcType=INTEGER}, #{uid,jdbcType=INTEGER},
		#{serviceEva,jdbcType=TINYINT}, #{deliveryEva,jdbcType=TINYINT},
		#{foodEva,jdbcType=TINYINT},
		#{foodNum,jdbcType=SMALLINT}, #{foodAmount,jdbcType=DECIMAL}, #{shipFee,jdbcType=DECIMAL},
		#{couponDiscount,jdbcType=DECIMAL},
		#{promotionDiscount,jdbcType=DECIMAL}, #{discount,jdbcType=DECIMAL},
		#{orderAmount,jdbcType=DECIMAL}, #{deliveryId,jdbcType=INTEGER},
		#{addTime,jdbcType=INTEGER},
		#{confirmTime,jdbcType=INTEGER}, #{sendTime,jdbcType=INTEGER}, #{expectDate,jdbcType=INTEGER},
		#{deliveryType,jdbcType=TINYINT}, #{expectTime,jdbcType=INTEGER},
		#{expectTimeslot,jdbcType=VARCHAR},
		#{orderMark,jdbcType=INTEGER}, #{uname,jdbcType=VARCHAR}, #{portrait,jdbcType=VARCHAR},
		#{phone,jdbcType=VARCHAR}, #{phoneAddr,jdbcType=VARCHAR},
		#{buyTimes,jdbcType=INTEGER},
		#{address1,jdbcType=VARCHAR}, #{address2,jdbcType=VARCHAR}, #{dormitory,jdbcType=VARCHAR},
		#{timeDeliver,jdbcType=TINYINT}, #{credit,jdbcType=SMALLINT},
		#{ip,jdbcType=VARCHAR},
		#{couponCode,jdbcType=VARCHAR}, #{feature,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR},
		#{evaluation,jdbcType=VARCHAR})
	</insert>
	<insert id="insertSelective" parameterType="com.store59.kylin.order.data.model.Order">
		insert into 59_order
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="orderId != null">
				order_id,
			</if>
			<if test="status != null">
				status,
			</if>
			<if test="type != null">
				type,
			</if>
			<if test="paytype != null">
				paytype,
			</if>
			<if test="paystatus != null">
				paystatus,
			</if>
			<if test="source != null">
				source,
			</if>
			<if test="sid != null">
				sid,
			</if>
			<if test="siteId != null">
				site_id,
			</if>
			<if test="payTradeNo != null">
				pay_trade_no,
			</if>
			<if test="dormId != null">
				dorm_id,
			</if>
			<if test="dormentryId != null">
				dormentry_id,
			</if>
			<if test="uid != null">
				uid,
			</if>
			<if test="serviceEva != null">
				service_eva,
			</if>
			<if test="deliveryEva != null">
				delivery_eva,
			</if>
			<if test="foodEva != null">
				food_eva,
			</if>
			<if test="foodNum != null">
				food_num,
			</if>
			<if test="foodAmount != null">
				food_amount,
			</if>
			<if test="shipFee != null">
				ship_fee,
			</if>
			<if test="couponDiscount != null">
				coupon_discount,
			</if>
			<if test="promotionDiscount != null">
				promotion_discount,
			</if>
			<if test="discount != null">
				discount,
			</if>
			<if test="orderAmount != null">
				order_amount,
			</if>
			<if test="deliveryId != null">
				delivery_id,
			</if>
			<if test="addTime != null">
				add_time,
			</if>
			<if test="confirmTime != null">
				confirm_time,
			</if>
			<if test="sendTime != null">
				send_time,
			</if>
			<if test="expectDate != null">
				expect_date,
			</if>
			<if test="deliveryType != null">
				delivery_type,
			</if>
			<if test="expectTime != null">
				expect_time,
			</if>
			<if test="expectTimeslot != null">
				expect_timeslot,
			</if>
			<if test="orderMark != null">
				order_mark,
			</if>
			<if test="uname != null">
				uname,
			</if>
			<if test="portrait != null">
				portrait,
			</if>
			<if test="phone != null">
				phone,
			</if>
			<if test="phoneAddr != null">
				phone_addr,
			</if>
			<if test="buyTimes != null">
				buy_times,
			</if>
			<if test="address1 != null">
				address1,
			</if>
			<if test="address2 != null">
				address2,
			</if>
			<if test="dormitory != null">
				dormitory,
			</if>
			<if test="timeDeliver != null">
				time_deliver,
			</if>
			<if test="credit != null">
				credit,
			</if>
			<if test="ip != null">
				ip,
			</if>
			<if test="couponCode != null">
				coupon_code,
			</if>
			<if test="feature != null">
				feature,
			</if>
			<if test="remark != null">
				remark,
			</if>
			<if test="evaluation != null">
				evaluation,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="orderId != null">
				#{orderId,jdbcType=BIGINT},
			</if>
			<if test="status != null">
				#{status,jdbcType=TINYINT},
			</if>
			<if test="type != null">
				#{type,jdbcType=TINYINT},
			</if>
			<if test="paytype != null">
				#{paytype,jdbcType=TINYINT},
			</if>
			<if test="paystatus != null">
				#{paystatus,jdbcType=TINYINT},
			</if>
			<if test="source != null">
				#{source,jdbcType=TINYINT},
			</if>
			<if test="sid != null">
				#{sid,jdbcType=INTEGER},
			</if>
			<if test="siteId != null">
				#{siteId,jdbcType=INTEGER},
			</if>
			<if test="payTradeNo != null">
				#{payTradeNo,jdbcType=CHAR},
			</if>
			<if test="dormId != null">
				#{dormId,jdbcType=INTEGER},
			</if>
			<if test="dormentryId != null">
				#{dormentryId,jdbcType=INTEGER},
			</if>
			<if test="uid != null">
				#{uid,jdbcType=INTEGER},
			</if>
			<if test="serviceEva != null">
				#{serviceEva,jdbcType=TINYINT},
			</if>
			<if test="deliveryEva != null">
				#{deliveryEva,jdbcType=TINYINT},
			</if>
			<if test="foodEva != null">
				#{foodEva,jdbcType=TINYINT},
			</if>
			<if test="foodNum != null">
				#{foodNum,jdbcType=SMALLINT},
			</if>
			<if test="foodAmount != null">
				#{foodAmount,jdbcType=DECIMAL},
			</if>
			<if test="shipFee != null">
				#{shipFee,jdbcType=DECIMAL},
			</if>
			<if test="couponDiscount != null">
				#{couponDiscount,jdbcType=DECIMAL},
			</if>
			<if test="promotionDiscount != null">
				#{promotionDiscount,jdbcType=DECIMAL},
			</if>
			<if test="discount != null">
				#{discount,jdbcType=DECIMAL},
			</if>
			<if test="orderAmount != null">
				#{orderAmount,jdbcType=DECIMAL},
			</if>
			<if test="deliveryId != null">
				#{deliveryId,jdbcType=INTEGER},
			</if>
			<if test="addTime != null">
				#{addTime,jdbcType=INTEGER},
			</if>
			<if test="confirmTime != null">
				#{confirmTime,jdbcType=INTEGER},
			</if>
			<if test="sendTime != null">
				#{sendTime,jdbcType=INTEGER},
			</if>
			<if test="expectDate != null">
				#{expectDate,jdbcType=INTEGER},
			</if>
			<if test="deliveryType != null">
				#{deliveryType,jdbcType=TINYINT},
			</if>
			<if test="expectTime != null">
				#{expectTime,jdbcType=INTEGER},
			</if>
			<if test="expectTimeslot != null">
				#{expectTimeslot,jdbcType=VARCHAR},
			</if>
			<if test="orderMark != null">
				#{orderMark,jdbcType=INTEGER},
			</if>
			<if test="uname != null">
				#{uname,jdbcType=VARCHAR},
			</if>
			<if test="portrait != null">
				#{portrait,jdbcType=VARCHAR},
			</if>
			<if test="phone != null">
				#{phone,jdbcType=VARCHAR},
			</if>
			<if test="phoneAddr != null">
				#{phoneAddr,jdbcType=VARCHAR},
			</if>
			<if test="buyTimes != null">
				#{buyTimes,jdbcType=INTEGER},
			</if>
			<if test="address1 != null">
				#{address1,jdbcType=VARCHAR},
			</if>
			<if test="address2 != null">
				#{address2,jdbcType=VARCHAR},
			</if>
			<if test="dormitory != null">
				#{dormitory,jdbcType=VARCHAR},
			</if>
			<if test="timeDeliver != null">
				#{timeDeliver,jdbcType=TINYINT},
			</if>
			<if test="credit != null">
				#{credit,jdbcType=SMALLINT},
			</if>
			<if test="ip != null">
				#{ip,jdbcType=VARCHAR},
			</if>
			<if test="couponCode != null">
				#{couponCode,jdbcType=VARCHAR},
			</if>
			<if test="feature != null">
				#{feature,jdbcType=VARCHAR},
			</if>
			<if test="remark != null">
				#{remark,jdbcType=VARCHAR},
			</if>
			<if test="evaluation != null">
				#{evaluation,jdbcType=VARCHAR},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.store59.kylin.order.data.model.Order">
		update 59_order
		<set>
			<if test="status != null">
				status = #{status,jdbcType=TINYINT},
			</if>
			<if test="type != null">
				type = #{type,jdbcType=TINYINT},
			</if>
			<if test="paytype != null">
				paytype = #{paytype,jdbcType=TINYINT},
			</if>
			<if test="paystatus != null">
				paystatus = #{paystatus,jdbcType=TINYINT},
			</if>
			<if test="source != null">
				source = #{source,jdbcType=TINYINT},
			</if>
			<if test="sid != null">
				sid = #{sid,jdbcType=INTEGER},
			</if>
			<if test="siteId != null">
				site_id = #{siteId,jdbcType=INTEGER},
			</if>
			<if test="payTradeNo != null">
				pay_trade_no = #{payTradeNo,jdbcType=CHAR},
			</if>
			<if test="dormId != null">
				dorm_id = #{dormId,jdbcType=INTEGER},
			</if>
			<if test="dormentryId != null">
				dormentry_id = #{dormentryId,jdbcType=INTEGER},
			</if>
			<if test="uid != null">
				uid = #{uid,jdbcType=INTEGER},
			</if>
			<if test="serviceEva != null">
				service_eva = #{serviceEva,jdbcType=TINYINT},
			</if>
			<if test="deliveryEva != null">
				delivery_eva = #{deliveryEva,jdbcType=TINYINT},
			</if>
			<if test="foodEva != null">
				food_eva = #{foodEva,jdbcType=TINYINT},
			</if>
			<if test="foodNum != null">
				food_num = #{foodNum,jdbcType=SMALLINT},
			</if>
			<if test="foodAmount != null">
				food_amount = #{foodAmount,jdbcType=DECIMAL},
			</if>
			<if test="shipFee != null">
				ship_fee = #{shipFee,jdbcType=DECIMAL},
			</if>
			<if test="couponDiscount != null">
				coupon_discount = #{couponDiscount,jdbcType=DECIMAL},
			</if>
			<if test="promotionDiscount != null">
				promotion_discount = #{promotionDiscount,jdbcType=DECIMAL},
			</if>
			<if test="discount != null">
				discount = #{discount,jdbcType=DECIMAL},
			</if>
			<if test="orderAmount != null">
				order_amount = #{orderAmount,jdbcType=DECIMAL},
			</if>
			<if test="deliveryId != null">
				delivery_id = #{deliveryId,jdbcType=INTEGER},
			</if>
			<if test="addTime != null">
				add_time = #{addTime,jdbcType=INTEGER},
			</if>
			<if test="confirmTime != null">
				confirm_time = #{confirmTime,jdbcType=INTEGER},
			</if>
			<if test="sendTime != null">
				send_time = #{sendTime,jdbcType=INTEGER},
			</if>
			<if test="expectDate != null">
				expect_date = #{expectDate,jdbcType=INTEGER},
			</if>
			<if test="deliveryType != null">
				delivery_type = #{deliveryType,jdbcType=TINYINT},
			</if>
			<if test="expectTime != null">
				expect_time = #{expectTime,jdbcType=INTEGER},
			</if>
			<if test="expectTimeslot != null">
				expect_timeslot = #{expectTimeslot,jdbcType=VARCHAR},
			</if>
			<if test="orderMark != null">
				order_mark = #{orderMark,jdbcType=INTEGER},
			</if>
			<if test="uname != null">
				uname = #{uname,jdbcType=VARCHAR},
			</if>
			<if test="portrait != null">
				portrait = #{portrait,jdbcType=VARCHAR},
			</if>
			<if test="phone != null">
				phone = #{phone,jdbcType=VARCHAR},
			</if>
			<if test="phoneAddr != null">
				phone_addr = #{phoneAddr,jdbcType=VARCHAR},
			</if>
			<if test="buyTimes != null">
				buy_times = #{buyTimes,jdbcType=INTEGER},
			</if>
			<if test="address1 != null">
				address1 = #{address1,jdbcType=VARCHAR},
			</if>
			<if test="address2 != null">
				address2 = #{address2,jdbcType=VARCHAR},
			</if>
			<if test="dormitory != null">
				dormitory = #{dormitory,jdbcType=VARCHAR},
			</if>
			<if test="timeDeliver != null">
				time_deliver = #{timeDeliver,jdbcType=TINYINT},
			</if>
			<if test="credit != null">
				credit = #{credit,jdbcType=SMALLINT},
			</if>
			<if test="ip != null">
				ip = #{ip,jdbcType=VARCHAR},
			</if>
			<if test="couponCode != null">
				coupon_code = #{couponCode,jdbcType=VARCHAR},
			</if>
			<if test="feature != null">
				feature = #{feature,jdbcType=VARCHAR},
			</if>
			<if test="remark != null">
				remark = #{remark,jdbcType=VARCHAR},
			</if>
			<if test="evaluation != null">
				evaluation = #{evaluation,jdbcType=VARCHAR},
			</if>
		</set>
		where order_id = #{orderId,jdbcType=BIGINT}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.store59.kylin.order.data.model.Order">
		update 59_order
		set status = #{status,jdbcType=TINYINT},
		type = #{type,jdbcType=TINYINT},
		paytype = #{paytype,jdbcType=TINYINT},
		paystatus = #{paystatus,jdbcType=TINYINT},
		source = #{source,jdbcType=TINYINT},
		sid = #{sid,jdbcType=INTEGER},
		site_id = #{siteId,jdbcType=INTEGER},
		pay_trade_no = #{payTradeNo,jdbcType=CHAR},
		dorm_id = #{dormId,jdbcType=INTEGER},
		dormentry_id = #{dormentryId,jdbcType=INTEGER},
		uid = #{uid,jdbcType=INTEGER},
		service_eva = #{serviceEva,jdbcType=TINYINT},
		delivery_eva = #{deliveryEva,jdbcType=TINYINT},
		food_eva = #{foodEva,jdbcType=TINYINT},
		food_num = #{foodNum,jdbcType=SMALLINT},
		food_amount = #{foodAmount,jdbcType=DECIMAL},
		ship_fee = #{shipFee,jdbcType=DECIMAL},
		coupon_discount = #{couponDiscount,jdbcType=DECIMAL},
		promotion_discount = #{promotionDiscount,jdbcType=DECIMAL},
		discount = #{discount,jdbcType=DECIMAL},
		order_amount = #{orderAmount,jdbcType=DECIMAL},
		delivery_id = #{deliveryId,jdbcType=INTEGER},
		add_time = #{addTime,jdbcType=INTEGER},
		confirm_time = #{confirmTime,jdbcType=INTEGER},
		send_time = #{sendTime,jdbcType=INTEGER},
		expect_date = #{expectDate,jdbcType=INTEGER},
		delivery_type = #{deliveryType,jdbcType=TINYINT},
		expect_time = #{expectTime,jdbcType=INTEGER},
		expect_timeslot = #{expectTimeslot,jdbcType=VARCHAR},
		order_mark = #{orderMark,jdbcType=INTEGER},
		uname = #{uname,jdbcType=VARCHAR},
		portrait = #{portrait,jdbcType=VARCHAR},
		phone = #{phone,jdbcType=VARCHAR},
		phone_addr = #{phoneAddr,jdbcType=VARCHAR},
		buy_times = #{buyTimes,jdbcType=INTEGER},
		address1 = #{address1,jdbcType=VARCHAR},
		address2 = #{address2,jdbcType=VARCHAR},
		dormitory = #{dormitory,jdbcType=VARCHAR},
		time_deliver = #{timeDeliver,jdbcType=TINYINT},
		credit = #{credit,jdbcType=SMALLINT},
		ip = #{ip,jdbcType=VARCHAR},
		coupon_code = #{couponCode,jdbcType=VARCHAR},
		feature = #{feature,jdbcType=VARCHAR},
		remark = #{remark,jdbcType=VARCHAR},
		evaluation = #{evaluation,jdbcType=VARCHAR}
		where order_id = #{orderId,jdbcType=BIGINT}
	</update>
</mapper>
